!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t){var i={debounce:function(e,t,i){var n;return function(){var a=this,r=arguments,o=function(){n=null,i||e.apply(a,r)},s=i&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(a,r)}},randomIntFromRange:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},randomColor:function(e){return e[Math.floor(Math.random()*e.length)]},distance:function(e,t,i,n){var a=i-e,r=n-t;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))},circleRectCollision:function(e,t,i,n,a,r,o){var s=e,u=t;return e<n?s=n:e>n+r&&(s=n+r),t<a?u=a:t>a+o&&(u=a+o),this.distance(s,u,e,t)<=i},mouse:{x:innerWidth/2,y:innerHeight/2}};e.exports=i},function(e,t,i){e.exports=i.p+"c57f0316a295265790a11aab8261b04f.mp3"},function(e,t,i){e.exports=i.p+"2fd02232b10907ecd763be4060f47292.mp3"},function(e,t,i){e.exports=i.p+"57688e1a89d2e26fe9397ccaefb7062a.mp3"},function(e,t,i){e.exports=i.p+"45547dbba4ab90e08aa1d931766b7f71.mp3"},function(e,t,i){e.exports=i.p+"4a08de54e6669dabb54dad80712c59a9.mp3"},function(e,t,i){i(8),e.exports=i(7)},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),r=i(2),o=i.n(r),s=i(3),u=i.n(s),c=i(4),l=i.n(c),d=i(5),h=i.n(d);function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=1,y=2,p=3,m=4,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tune=void 0,this.audio=void 0,this.timer=void 0,this.mute=!1,this.sortTune(t).setAudio(this.tune)}var t,i,n;return t=e,(i=[{key:"setTune",value:function(e){this.tune=e,this.mute=!1,console.log("this is the tune",e)}},{key:"setMute",value:function(e){this.mute=e}},{key:"sortTune",value:function(e){switch(parseInt(e)){case v:this.setTune(u.a);break;case y:this.setTune(l.a);break;case p:this.setTune(h.a);break;case m:default:this.setMute(!0)}return this}},{key:"setAudio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tune;return this.audio=new Audio(e),this}},{key:"preview",value:function(e){var t=this;this.play(!0),this.timer=setTimeout((function(){t.pause().reset(),e(t)}),1e4)}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(this.mute&&!e)&&(this.audio.play(),this)}},{key:"pause",value:function(){return this.audio.pause(),this}},{key:"reset",value:function(){return this.audio.currentTime=0,clearTimeout(this.timer),this}}])&&f(t.prototype,i),n&&f(t,n),e}();function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.menu=t.hook}var t,i,n;return t=e,(i=[{key:"isActive",value:function(){return this.menu.classList.contains("is-active")}},{key:"hide",value:function(){this.menu.classList.remove("is-active")}},{key:"show",value:function(){this.menu.classList.add("is-active")}}])&&w(t.prototype,i),n&&w(t,n),e}(),P=document.querySelector("canvas"),k=P.getContext("2d"),x={form:document.getElementById("js-game-options"),hook:document.querySelector(".game"),musicFields:document.querySelectorAll(".js-music-preview"),ball:void 0,canvas:P,c:k,musicPlayer:new b,leftPaddle:void 0,rightPaddle:void 0,playerOne:void 0,playerTwo:void 0,direction:!0,options:void 0,isPaused:!1,audio:{hit:new Audio(a.a),end:new Audio(o.a)}};x.menu=new g(x);var T=x,C=i(0),E=i.n(C);function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(){function e(t,i,n,a,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this.dy=a,this.dx=n,this.radius=r,this.color=o}var t,i,n;return t=e,(i=[{key:"draw",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill(),e.stroke(),e.closePath()}},{key:"reset",value:function(e){e.reset()}},{key:"incressSpeed",value:function(){}},{key:"update",value:function(e){return(this.y+this.radius+this.dy>e.canvas.height||this.y-this.radius<=0)&&(this.dy=-this.dy),this.x-this.radius<=0?(e.playerTwo.addScore(),this.reset(e)):this.x+this.radius+this.dx>e.canvas.width?(e.playerOne.addScore(),this.reset(e)):(E.a.circleRectCollision(this.x,this.y,this.radius,e.rightPaddle.x,e.rightPaddle.y,e.rightPaddle.width+Math.abs(this.dx),e.rightPaddle.height)&&(e.playHit(),this.dx=-this.dx,this.incressSpeed()),E.a.circleRectCollision(this.x,this.y,this.radius,e.leftPaddle.x,e.leftPaddle.y,e.leftPaddle.width+Math.abs(this.dx),e.leftPaddle.height)&&(e.playHit(),this.dx=-this.dx,this.incressSpeed()),this.y+=this.dy,this.x+=this.dx,void this.draw(e.c))}}])&&S(t.prototype,i),n&&S(t,n),e}();function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=function(){function e(t,i,n,a,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this.dy=r,this.width=n,this.height=a,this.color=o,this.up=!1,this.down=!1,this.border=10}var t,i,n;return t=e,(i=[{key:"draw",value:function(e){e.beginPath(),e.rect(this.x,this.y,this.width,this.height),e.fillStyle=this.color,e.fill(),e.stroke(),e.closePath()}},{key:"moveUp",value:function(){if(this.up)return this.y-this.dy-this.border<=0?this.y=0+this.border:void(this.y+=-this.dy)}},{key:"moveDown",value:function(e){if(this.down)return this.y+(this.height+this.dy+this.border)>=e.canvas.height?this.y=e.canvas.height-this.height-this.border:void(this.y+=this.dy)}},{key:"update",value:function(e){this.moveUp(e),this.moveDown(e),this.draw(e.c)}}])&&L(t.prototype,i),n&&L(t,n),e}();function j(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(t,i,n,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.score=i,this.x=n,this.y=a,this.computer=r}var t,i,n;return t=e,(i=[{key:"draw",value:function(e){e.font="18px Arial",e.fillText(this.name+": "+this.score,this.x,this.y)}},{key:"update",value:function(e){this.computer&&this.automate(e),this.draw(e.c)}},{key:"addScore",value:function(){this.score++}},{key:"automate",value:function(e){e.leftPaddle.y=.99*+e.ball.y}}])&&j(t.prototype,i),n&&j(t,n),e}(),_={LEVEL:"level",PLAYER:"player",MUSIC:"music"};function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R,D=function(){function e(t,i,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setDefaults(),this.game=t,this.level=this.levels[i],this.mode=this.modes[n],this.music=T.musicPlayer,this.music.sortTune(a).setAudio()}var t,i,n;return t=e,(i=[{key:"setDefaults",value:function(){this.levels={easy:{ball:{radius:20,velocity:{x:7,y:7}},paddle:{height:100,width:20,speed:5}},hard:{ball:{radius:10,velocity:{x:10,y:10}},paddle:{height:60,width:20,speed:10}},insane:{ball:{radius:10,velocity:{x:15,y:15}},paddle:{height:30,width:20,speed:17}}},this.modes={computer:{computer:!0},friend:{computer:!1}}}}])&&F(t.prototype,i),n&&F(t,n),e}();addEventListener("mousemove",(function(e){C.mouse.x=e.clientX,C.mouse.y=e.clientY})),addEventListener("resize",(function(){T.menu.isActive()||(T.canvas.width=innerWidth,T.canvas.height=innerHeight,T.options&&T.init(T.options))})),T.form.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.target),i=t.get(_.LEVEL),n=t.get(_.PLAYER),a=t.get(_.MUSIC);T.options=new D(T,i,n,a),T.init(T.options),T.animate(),T.options.music.play()})),(R=T.musicFields,function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(R)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(R)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map((function(e){e.addEventListener("mouseover",(function(e){var t=e.currentTarget,i=t.parentElement.querySelector('[name="music"]');t.classList.add("button__preview--spin"),T.musicPlayer.sortTune(i.value).setAudio(),T.musicPlayer.preview((function(){t.classList.add("button__preview--spin")}))})),e.addEventListener("mouseout",(function(e){e.currentTarget.classList.remove("button__preview--spin"),T.musicPlayer.pause().reset()}))})),addEventListener("keydown",(function(e){if(!e.isComposing&&229!==e.keyCode)switch(e.keyCode){case 87:T.leftPaddle.up=!0;break;case 83:T.leftPaddle.down=!0;break;case 38:T.rightPaddle.up=!0;break;case 40:T.rightPaddle.down=!0;break;case 27:T.end();break;default:return}})),addEventListener("keyup",(function(e){if(!e.isComposing&&229!==e.keyCode)switch(e.keyCode){case 87:T.leftPaddle.up=!1;break;case 83:T.leftPaddle.down=!1;break;case 38:T.rightPaddle.up=!1;break;case 40:T.rightPaddle.down=!1;break;default:return}}));var I=["#2185C5","#7ECEFD","#FF7F66","#ff8364","#ffb677"],q=T.c.createLinearGradient(0,0,0,T.canvas.height);q.addColorStop(0,E.a.randomColor(["#ffffff","#000000","#261a67","#e8ebf5","#E3EAEF","#21232f"])),T.canvas.width=innerWidth,T.canvas.height=innerHeight,T.playHit=function(){T.audio.hit.play()},T.reset=function(){T.audio.end.play();var e=T.options.level.ball,t=T.direction?-e.velocity.x:e.velocity.x;T.direction=!T.direction;var i=T.canvas.width/2,n=T.canvas.height/2;T.ball=new A(i,n,t,e.velocity.y,e.radius,E.a.randomColor(I))},T.init=function(e){var t=e.level.ball,i=e.level.paddle,n=T.canvas.width/2,a=T.canvas.height/2;T.isPaused=!1,T.ball=new A(n,a,t.velocity.x,t.velocity.y,t.radius,E.a.randomColor(I)),T.leftPaddle=new O(10,a,i.width,i.height,i.speed,E.a.randomColor(I)),T.rightPaddle=new O(T.canvas.width-30,a,i.width,i.height,i.speed,E.a.randomColor(I)),T.playerOne=new M("Player One",0,10,50,e.mode.computer),T.playerTwo=new M("Player Two",0,T.canvas.width-125,50,!1),T.menu.hide(),T.canvas.classList.add("is-active")},T.pause=function(){T.options.music.pause(),T.isPaused=!0},T.continue=function(){T.options.music.play(),T.isPaused=!1},T.end=E.a.debounce((function(){if(T.pause(),!confirm("Are you sure you want to stop?"))return T.continue;T.canvas.classList.remove("is-active"),T.menu.show(),T.c.clearRect(0,0,T.canvas.width,T.canvas.height),T.ball=void 0,window.cancelAnimationFrame(T.animate)}),300),T.animate=function(){if(window.requestAnimationFrame(T.animate),T.isPaused)return!1;T.c.clearRect(0,0,T.canvas.width,T.canvas.height),T.c.fillStyle=q,T.c.fillRect(0,0,T.canvas.width,T.canvas.height),T.ball.update(T),T.leftPaddle.update(T),T.rightPaddle.update(T),T.playerOne.update(T),T.playerTwo.update(T)}}]);