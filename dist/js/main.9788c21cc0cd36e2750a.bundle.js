!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t){var i={randomIntFromRange:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},randomColor:function(e){return e[Math.floor(Math.random()*e.length)]},distance:function(e,t,i,n){var a=i-e,r=n-t;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))},circleRectCollision:function(e,t,i,n,a,r,o){var s=e,u=t;return e<n?s=n:e>n+r&&(s=n+r),t<a?u=a:t>a+o&&(u=a+o),this.distance(s,u,e,t)<=i},mouse:{x:innerWidth/2,y:innerHeight/2}};e.exports=i},function(e,t,i){e.exports=i.p+"c57f0316a295265790a11aab8261b04f.mp3"},function(e,t,i){e.exports=i.p+"2fd02232b10907ecd763be4060f47292.mp3"},function(e,t,i){e.exports=i.p+"57688e1a89d2e26fe9397ccaefb7062a.mp3"},function(e,t,i){e.exports=i.p+"45547dbba4ab90e08aa1d931766b7f71.mp3"},function(e,t,i){e.exports=i.p+"4a08de54e6669dabb54dad80712c59a9.mp3"},function(e,t,i){i(8),e.exports=i(7)},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(1),a=i.n(n),r=i(2),o=i.n(r),s=i(3),u=i.n(s),l=i(4),d=i.n(l),c=i(5),h=i.n(c);function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=1,v=2,p=3,m=4,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tune=void 0,this.audio=void 0,this.timer=void 0,this.mute=!1,this.sortTune(t).setAudio(this.tune)}var t,i,n;return t=e,(i=[{key:"setTune",value:function(e){this.tune=e,this.mute=!1,console.log("this is the tune",e)}},{key:"setMute",value:function(e){this.mute=e}},{key:"sortTune",value:function(e){switch(parseInt(e)){case y:this.setTune(u.a);break;case v:this.setTune(d.a);break;case p:this.setTune(h.a);break;case m:default:this.setMute(!0)}return this}},{key:"setAudio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tune;return this.audio=new Audio(e),this}},{key:"preview",value:function(e){var t=this;this.play(!0),this.timer=setTimeout((function(){t.pause().reset(),e(t)}),1e4)}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(this.mute&&!e)&&(this.audio.play(),this)}},{key:"pause",value:function(){return this.audio.pause(),this}},{key:"reset",value:function(){return this.audio.currentTime=0,clearTimeout(this.timer),this}}])&&f(t.prototype,i),n&&f(t,n),e}(),w=document.querySelector("canvas"),g=w.getContext("2d"),k={form:document.getElementById("js-game-options"),hook:document.querySelector(".game"),musicFields:document.querySelectorAll(".js-music-preview"),ball:void 0,canvas:w,c:g,musicPlayer:new b,leftPaddle:void 0,rightPaddle:void 0,playerOne:void 0,playerTwo:void 0,direction:!0,options:void 0,audio:{hit:new Audio(a.a),end:new Audio(o.a)}},P=i(0),x=i.n(P);function T(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(){function e(t,i,n,a,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this.dy=a,this.dx=n,this.radius=r,this.color=o}var t,i,n;return t=e,(i=[{key:"draw",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill(),e.stroke(),e.closePath()}},{key:"reset",value:function(e){e.reset()}},{key:"incressSpeed",value:function(){}},{key:"update",value:function(e){return(this.y+this.radius+this.dy>e.canvas.height||this.y-this.radius<=0)&&(this.dy=-this.dy),this.x-this.radius<=0?(e.playerTwo.addScore(),this.reset(e)):this.x+this.radius+this.dx>e.canvas.width?(e.playerOne.addScore(),this.reset(e)):(x.a.circleRectCollision(this.x,this.y,this.radius,e.rightPaddle.x,e.rightPaddle.y,e.rightPaddle.width+Math.abs(this.dx),e.rightPaddle.height)&&(e.playHit(),this.dx=-this.dx,this.incressSpeed()),x.a.circleRectCollision(this.x,this.y,this.radius,e.leftPaddle.x,e.leftPaddle.y,e.leftPaddle.width+Math.abs(this.dx),e.leftPaddle.height)&&(e.playHit(),this.dx=-this.dx,this.incressSpeed()),this.y+=this.dy,this.x+=this.dx,void this.draw(e.c))}}])&&T(t.prototype,i),n&&T(t,n),e}();function E(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=function(){function e(t,i,n,a,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=i,this.dy=r,this.width=n,this.height=a,this.color=o,this.up=!1,this.down=!1,this.border=10}var t,i,n;return t=e,(i=[{key:"draw",value:function(e){e.beginPath(),e.rect(this.x,this.y,this.width,this.height),e.fillStyle=this.color,e.fill(),e.stroke(),e.closePath()}},{key:"moveUp",value:function(){if(this.up)return this.y-this.dy-this.border<=0?this.y=0+this.border:void(this.y+=-this.dy)}},{key:"moveDown",value:function(e){if(this.down)return this.y+(this.height+this.dy+this.border)>=e.canvas.height?this.y=e.canvas.height-this.height-this.border:void(this.y+=this.dy)}},{key:"update",value:function(e){this.moveUp(e),this.moveDown(e),this.draw(e.c)}}])&&E(t.prototype,i),n&&E(t,n),e}();function L(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=function(){function e(t,i,n,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.score=i,this.x=n,this.y=a,this.computer=r}var t,i,n;return t=e,(i=[{key:"draw",value:function(e){e.font="18px Arial",e.fillText(this.name+": "+this.score,this.x,this.y)}},{key:"update",value:function(e){this.computer&&this.automate(e),this.draw(e.c)}},{key:"addScore",value:function(){this.score++}},{key:"automate",value:function(e){e.leftPaddle.y=.99*+e.ball.y}}])&&L(t.prototype,i),n&&L(t,n),e}(),A={LEVEL:"level",PLAYER:"player",MUSIC:"music"};function M(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j,_=function(){function e(t,i,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setDefaults(),this.game=t,this.level=this.levels[i],this.mode=this.modes[n],this.music=k.musicPlayer,this.music.sortTune(a).setAudio()}var t,i,n;return t=e,(i=[{key:"setDefaults",value:function(){this.levels={easy:{ball:{radius:20,velocity:{x:7,y:7}},paddle:{height:100,width:20,speed:5}},hard:{ball:{radius:10,velocity:{x:10,y:10}},paddle:{height:60,width:20,speed:10}},insane:{ball:{radius:10,velocity:{x:15,y:15}},paddle:{height:30,width:20,speed:17}}},this.modes={computer:{computer:!0},player:{computer:!1}}}}])&&M(t.prototype,i),n&&M(t,n),e}();addEventListener("mousemove",(function(e){P.mouse.x=e.clientX,P.mouse.y=e.clientY})),addEventListener("resize",(function(){k.canvas.width=innerWidth,k.canvas.height=innerHeight,k.options&&k.init(k.options)})),k.form.addEventListener("submit",(function(e){e.preventDefault();var t=new FormData(e.target),i=t.get(A.LEVEL),n=t.get(A.PLAYER),a=t.get(A.MUSIC);k.options=new _(k,i,n,a),k.init(k.options),k.animate(),k.options.music.play()})),(j=k.musicFields,function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(j)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(j)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map((function(e){e.addEventListener("mouseover",(function(e){var t=e.currentTarget,i=t.parentElement.querySelector('[name="music"]');t.classList.add("button__preview--spin"),k.musicPlayer.sortTune(i.value).setAudio(),k.musicPlayer.preview((function(){t.classList.add("button__preview--spin")}))})),e.addEventListener("mouseout",(function(e){e.currentTarget.classList.remove("button__preview--spin"),k.musicPlayer.pause().reset()}))})),addEventListener("keydown",(function(e){if(!e.isComposing&&229!==e.keyCode)switch(e.keyCode){case 87:k.leftPaddle.up=!0;break;case 83:k.leftPaddle.down=!0;break;case 38:k.rightPaddle.up=!0;break;case 40:k.rightPaddle.down=!0;break;default:return}})),addEventListener("keyup",(function(e){if(!e.isComposing&&229!==e.keyCode)switch(e.keyCode){case 87:k.leftPaddle.up=!1;break;case 83:k.leftPaddle.down=!1;break;case 38:k.rightPaddle.up=!1;break;case 40:k.rightPaddle.down=!1;break;default:return}}));var F=["#2185C5","#7ECEFD","#FF7F66","#ff8364","#ffb677"],R=k.c.createLinearGradient(0,0,0,k.canvas.height);R.addColorStop(0,x.a.randomColor(["#ffffff","#000000","#261a67","#e8ebf5","#E3EAEF","#21232f"])),k.canvas.width=innerWidth,k.canvas.height=innerHeight,k.playHit=function(){k.audio.hit.play()},k.reset=function(){k.audio.end.play();var e=k.options.level.ball,t=k.direction?-e.velocity.x:e.velocity.x;k.direction=!k.direction;var i=k.canvas.width/2,n=k.canvas.height/2;k.ball=new C(i,n,t,e.velocity.y,e.radius,x.a.randomColor(F))},k.init=function(e){var t=e.level.ball,i=e.level.paddle,n=k.canvas.width/2,a=k.canvas.height/2;k.ball=new C(n,a,t.velocity.x,t.velocity.y,t.radius,x.a.randomColor(F)),k.leftPaddle=new S(10,a,i.width,i.height,i.speed,x.a.randomColor(F)),k.rightPaddle=new S(k.canvas.width-30,a,i.width,i.height,i.speed,x.a.randomColor(F)),k.playerOne=new O("Player One",0,10,50,e.mode.computer),k.playerTwo=new O("Player Two",0,k.canvas.width-125,50,!1),k.hook.classList.remove("is-active"),k.canvas.classList.add("is-active")},k.animate=function(){requestAnimationFrame(k.animate),k.c.clearRect(0,0,k.canvas.width,k.canvas.height),k.c.fillStyle=R,k.c.fillRect(0,0,k.canvas.width,k.canvas.height),k.ball.update(k),k.leftPaddle.update(k),k.rightPaddle.update(k),k.playerOne.update(k),k.playerTwo.update(k)}}]);